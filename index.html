<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro</title>
    <link rel="manifest" href="manifest.json" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="page">
      <!-- Marcos laterales con imágenes -->
      <div class="frame-left">
        <img src="./media/images/logos/borde1.png" alt="Borde izquierdo" />
      </div>
      <div class="frame-right">
        <img src="./media/images/logos/borde2.png" alt="Borde derecho" />
      </div>

      <!-- Contenido central -->
      <main class="content">
        <section class="card">
          <div id="form-root"></div>
          <img
            src="./media/images/logos/logo.webp"
            alt="logo"
            class="card-logo"
          />
        </section>
      </main>
    </div>
    <script src="./libs/js/xlsx.full.min.js"></script>

    <script>
      // Preguntas agrupadas por flujos
      const QUESTION_GROUPS = {
        // Si selecciona "Productor"
        plantOrEsqueaje: [
          {
            id: "q2",
            label: "1.- ¡Hola! Platícanos un poco de ti ¿Cuál es tu nombre?",
            options: [],
          },
          {
            id: "q3",
            label: "2.-Teléfono / WhatsApp",
          },
          {
            id: "q4",
            label: "3.-Municipio / Estado",
          },
          {
            id: "q5",
            label: "4.-Tipo de terreno",
            options: ["Propio", "Rentado", "Ejido"],
          },
          {
            id: "q6",
            label: "5.-Superficie disponible (ha)",
            options: ["0.1", "1", "2-5", "5+"],
          },
          {
            id: "q4",
            label: "6.-Disponibilidad de agua",
            options: ["Pozo", "Canal", "Pipa", "Solo lluvia"],
          },
          {
            id: "q7",
            label: "7.- ¿Zona con heladas?",
            options: ["Sí", "No", "No sé"],
          },
          {
            id: "q8",
            label: "8.- ¿Tiene energía eléctrica?",
            options: ["Sí", "No"],
          },
          {
            id: "q9",
            label: "9.- ¿Cuenta con mano de obra?",
            options: ["Sí", "A veces", "No"],
          },
          {
            id: "q10",
            label: "10.- Nivel de decisión",
            options: ["100% seguro", "Evaluando", "Solo viendo"],
          },
          {
            id: "q11",
            label: "11.- Tiempo estimado para iniciar",
            options: ["Inmediato", "Próximo ciclo", "Sin fecha"],
          },
        ],
        // Si selecciona "Comercializador"
        frut: [
          {
            id: "q2",
            label: "1.- ¡Hola! Platícanos un poco de ti ¿Cuál es tu nombre?",
            options: [],
          },
          {
            id: "q3",
            label: "2.-Teléfono / WhatsApp",
          },
          {
            id: "q4",
            label: "3.- Ciudad / Estado",
          },
          {
            id: "q5",
            label: "4.- Tipo de fruta",
            options: ["Blanca", "Color", "Ambas"],
          },
          {
            id: "q6",
            label: "5.- Volumen",
            options: ["5-50", "50-300", "300-1000", "1000"],
          },
          {
            id: "q7",
            label: "6.- Frecuencia",
            options: ["Única", "Semanal", "Quincenal", "Mensual", "Temporada"],
          },
          {
            id: "q8",
            label: "7.- Presentaciòn",
            options: ["Granel", "Caja 5kg", "Caja 6.8kg", "Otro"],
          },
          {
            id: "q9",
            label: "8.- Calidad",
            options: ["Seleccionada", "Comercial", "Segunda"],
          },
          {
            id: "q10",
            label: "9.-Lugar de entrega",
            options: ["Negocio", "CEDIS", "Central", "Punto de carga"],
          },
          {
            id: "q11",
            label: "10.- Flete",
            options: ["Cliente", "Proovedor", "Depende"],
          },
          {
            id: "q12",
            label: "11.- Transporte",
            options: ["Sì", "No"],
          },
          {
            id: "q13",
            label: "12.- Pago",
            options: ["Contado", "Contra entrega", "Crèdito"],
          },
          {
            id: "q14",
            label: "13.- Crèdito",
            options: ["7", "15", "30", ">30"],
          },
          {
            id: "q15",
            label: "14.- Inicio",
            options: [
              "Inmediato",
              "Proxima semana",
              "Pròximo mes",
              "Solo viendo",
            ],
          },
        ],
        // Si selecciona "Consumidor"
        asesoryTec: [
          {
            id: "q2",
            label: "1.- ¡Hola! Platícanos un poco de ti ¿Cuál es tu nombre?",
            options: [],
          },
          {
            id: "q3",
            label: "2.- Teléfono / WhatsApp",
          },
          {
            id: "q4",
            label: "3.- Municipio / Estado",
          },
          {
            id: "q5",
            label: "4.- Años cultivo",
            options: ["<1", "1-3", "3-7", "7"],
          },
          {
            id: "q6",
            label: "5.- Superficie(ha)",
          },
          {
            id: "q7",
            label: "6.- Plantas",
          },
          {
            id: "q8",
            label: "7.- Variedades",
          },
          {
            id: "q9",
            label: "8.- Propósito",
            options: ["Local", "Central", "Exportaciòn", "Familiar"],
          },
          {
            id: "q10",
            label: "9.- Tutor",
            options: ["Vivo", "Madera", "Concreto", "Acero", "Mixto"],
          },
          {
            id: "q11",
            label: "10.- Riego",
            options: ["Goteo", "Microaspersión", "Pipa", "Temporal"],
          },
          {
            id: "q12",
            label: "11.- Fertilización",
            options: ["Orgánica", "Orgánica", "Mixta", "No aplica"],
          },
          {
            id: "q13",
            label: "12.- Problemas",
          },
          {
            id: "q14",
            label: "13.- Estado cultivo",
            options: [
              "Plantas fuertes",
              "Plantas lentas",
              "Plantas amarillas",
              "Enfermedades visibles",
            ],
          },
          {
            id: "q15",
            label: "14.- Producción",
            options: ["Inicio", "Media", "Estable ", "Baja", "Detenida"],
          },
          {
            id: "q16",
            label: "15.- Objetivo",
            options: [
              "Producción",
              "Calidad",
              "Sanidad ",
              "Podas",
              "Nutrición",
            ],
          },
          {
            id: "q17",
            label: "16.- Tipo asesoría",
            options: [
              "Diagnóstico",
              "Mensual",
              "Capacitaciòn",
              "Visitas puntuales",
            ],
          },
          {
            id: "q18",
            label: "17.- Involucramiento",
            options: [
              "Yo mismo",
              "Superviso personal",
              "Personal sin supervisión",
              "Proyecto inactivo",
            ],
          },
          {
            id: "q19",
            label: "18.- Compromiso",
            options: [
              "100%",
              "Intermedio",
              "Depende del costo",
              "Orientación básica",
            ],
          },
          {
            id: "q20",
            label: "19.- Visita",
            options: ["Sí", "No"],
          },
        ],
        process: [
          {
            id: "q2",
            label: "1.- ¡Hola! Platícanos un poco de ti ¿Cuál es tu nombre?",
            options: [],
          },
          {
            id: "q3",
            label: "2.- Teléfono / WhatsApp",
          },
          {
            id: "q4",
            label: "3.- Ciudad / Estado",
          },
          {
            id: "q5",
            label: "4.- Rol",
            options: ["Propietario", "Compras", "Producción", "Otro"],
          },
          {
            id: "q6",
            label: "5.- Uso",
            options: [
              "Congelado",
              "Deshidratado",
              "Pulpa",
              "Jugo",
              "Cosmética",
              "Investigación",
            ],
          },
          {
            id: "q7",
            label: "8.- Planta",
            options: ["Sí propia", "Sí maquila", "No"],
          },
          {
            id: "q8",
            label: "9.- Proceso",
            options: [
              "IQF",
              "Pulpa congelada",
              "Liofilizado",
              "Deshidratado convectivo",
              "Otro",
            ],
          },
          {
            id: "q9",
            label: "10.- Volumen",
            options: ["50-200", "200-600", "600-1500", "1500"],
          },
          {
            id: "q10",
            label: "11.- Frecuencia",
            options: ["Única", "Semanal", "Quincenal", "Mensual", "Temporada"],
          },
          {
            id: "q11",
            label: "12.- Estado fruta",
            options: [
              "Pulpa",
              "Entera congelada",
              "Trozos",
              "Deshidratada lámina",
              "Deshidratada cubo",
              "No definido",
            ],
          },
          {
            id: "q12",
            label: "13.- Variedad",
            options: ["Blanca", "Roja/Rosa/Fucsia", "Ambas", "Indiferente"],
          },
          {
            id: "q13",
            label: "14.- Grado industria",
            options: ["Seleccionada", "Grado industria", "Depende del precio"],
          },
          {
            id: "q14",
            label: "15.- Lugar entrega",
            options: [
              "Planta propia",
              "CEDIS",
              "Central",
              "Transportista",
              "Por definir",
            ],
          },
          {
            id: "q14",
            label: "16.- Flete",
            options: ["Cliente", "Proveedor", "Depende"],
          },
          {
            id: "q15",
            label: "17.- Pago",
            options: ["Contado", "Contra entrega", "Crédito"],
          },
          {
            id: "q16",
            label: "18.- Crédito",
            options: ["7", "15", "30", ">30"],
          },
          {
            id: "q16",
            label: "19.- Inicio",
            options: [
              "Inmediato",
              "Próxima semana",
              "Próximo mes",
              "Solo evaluando",
            ],
          },
        ],
        providers: [
        { id: "q2", label: "1.- ¡Hola! Platícanos un poco de ti ¿Cuál es tu nombre?", options: [] },
        {
            id: "q3",
            label: "2.- Teléfono / WhatsApp",
          },
          {
            id: "q4",
            label: "3.- Municipio / Estado",
          },
          {
            id: "q5",
            label: "4.- Perfil",
            options: [
              "Proveedor/Empresa",
              "Transportista/Logística",
              "Servicio Técnico/Consultor",
              "Perfil académico (Estudiante/Investigación/Universidad)",
              "ONG/Proyecto Social",
              "Otro",
            ],
          },
          {
            id: "q6",
            label: "5.- Interés",
            options: [
              "Ser proveedor de PITAMEX",
              "Ofrecer productos a productores",
              "Alianza/Colaboración",
              "Práctica/Residencia",
              "Investigación/Proyecto",
              "Información",
            ],
          },
          {
            id: "q7",
            label: "6.- Contacto",
            options: ["WhatsApp", "Llamada", "Correo"],
          },
        ],
        info: [
        { id: "q2", label: "1.- ¡Hola! Platícanos un poco de ti ¿Cuál es tu nombre?", options: [] },
        {
            id: "q3",
            label: "2.- Teléfono / WhatsApp",
          },
          {
            id: "q4",
            label: "3.- Municipio / Estado",
          },
        ],
      };

      // Primera pregunta base
      const FIRST_QUESTION = {
        id: "q1",
        label: "Selección de Interés",
        // options: ["productor", "comercializador", "consumidor"],
        options: [
          { uuid: "plantOrEsqueaje", label: "Planta / Esqueje" },
          { uuid: "frut", label: "Fruta (Nacional / Exportación)" },
          { uuid: "asesoryTec", label: "Asesoría Técnica" },
          { uuid: "process", label: "Procesado (Congelado / Deshidratado)" },
          { uuid: "providers", label: "Proveedores / Alianzas / Estancias" },
          { uuid: "info", label: "Solo Información" },
        ],
      };

      // Arreglo que irá cambiando dinámicamente
      let QUESTIONS = [FIRST_QUESTION];
    </script>

    <script src="db.js"></script>
    <script src="export.js"></script>
    <script src="app.js"></script>
  </body>
</html>
